{"version":3,"sources":["js/localStorageServices.js","js/03-feedback.js"],"names":["save","key","value","json","JSON","stringify","localStorage","setItem","error","alert","message","load","getItem","undefined","parse","form","document","querySelector","localStorageKey","localStorageCurrentContent","parsedObj","Object","keys","forEach","elements","feedbackMemoriser","email","feedbackObj","feedbackEraser","event","preventDefault","console","log","clear","reset","addEventListener"],"mappings":";AAgBC,aAhBD,SAASA,EAAKC,EAAKC,GACjB,IACE,MAAMC,EAAOC,KAAKC,UAAUH,GAC5BI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,wBAAwBD,EAAME,YAIlC,SAASC,EAAKV,GACZ,IACE,MAAMC,EAAQI,aAAaM,QAAQX,GACnC,OAAiB,OAAVC,OAAiBW,EAAYT,KAAKU,MAAMZ,GAC/C,MAAOM,GACPC,wBAAwBD,EAAME,YAEjC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAAA,QAAA,KAAA;;ACcA,aA9BD,IAAA,EAAA,QAAA,0BAEA,MAAMK,EAAOC,SAASC,cAAc,kBAC9BC,EAAkB,sBAClBC,GAA6B,EAAAR,EAAA,MAAKO,GAExC,GAAIC,EAA4B,CAC9B,MAAMC,GAAY,EAAAT,EAAA,MAAKO,GACDG,OAAOC,KAAKF,GACpBG,QAAQtB,IACpBc,EAAKS,SAASvB,GAAKC,MAAQkB,EAAUnB,KAMzC,SAASwB,IACP,MACEC,OAASxB,MAAOwB,GAChBhB,SAAWR,MAAOQ,IAChBK,EAAKS,SACHG,EAAc,CAAED,MAAAA,EAAOhB,QAAAA,IAC7B,EAAAV,EAAA,MAAKkB,EAAiBS,GAGxB,SAASC,EAAeC,GACtBA,EAAMC,iBACNC,QAAQC,KAAI,EAAArB,EAAA,MAAKO,IACjBZ,aAAa2B,QACblB,EAAKmB,QAhBPnB,EAAKoB,iBAAiB,QAASV,GAC/BV,EAAKoB,iBAAiB,SAAUP","file":"03-feedback.1cf989eb.js","sourceRoot":"../src","sourcesContent":["function save(key, value) {\n  try {\n    const json = JSON.stringify(value);\n    localStorage.setItem(key, json);\n  } catch (error) {\n    alert(`Error occured: ${error.message}`);\n  }\n}\n\nfunction load(key) {\n  try {\n    const value = localStorage.getItem(key);\n    return value === null ? undefined : JSON.parse(value);\n  } catch (error) {\n    alert(`Error occured: ${error.message}`);\n  }\n}\n\nexport { save, load };\n","import { save, load } from './localStorageServices';\n\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nconst localStorageCurrentContent = load(localStorageKey);\n\nif (localStorageCurrentContent) {\n  const parsedObj = load(localStorageKey);\n  const parsedObjKeys = Object.keys(parsedObj);\n  parsedObjKeys.forEach(key => {\n    form.elements[key].value = parsedObj[key];\n  });\n}\nform.addEventListener('input', feedbackMemoriser);\nform.addEventListener('submit', feedbackEraser);\n\nfunction feedbackMemoriser() {\n  const {\n    email: { value: email },\n    message: { value: message },\n  } = form.elements;\n  const feedbackObj = { email, message };\n  save(localStorageKey, feedbackObj);\n}\n\nfunction feedbackEraser(event) {\n  event.preventDefault();\n  console.log(load(localStorageKey));\n  localStorage.clear();\n  form.reset();\n}\n"]}